(function(){function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}return e})()({1:[function(require,module,exports){
const AVAILABLE_CHARS = /\d|[-:ap]/;
const CHAR_SUFFIXES = {
    '-': 'minus',
    ':': 'colon',
};


class DigitalClock {
    /**
     * @param {string|Element} elem         HTML element (or selector) to render the clock
     */
    constructor(elem) {
        this.rootElem = null;
        this.charElems = [];
        this.text = '';

        if (typeof elem === 'string') {
            this.rootElem = document.querySelector(elem);
        } else if (elem instanceof Element) {
            this.rootElem = elem;
        }

        if (!this.rootElem) {
            throw new Error(`Cannot initialize Digital Clock on ${elem}`);
        }
        this.rootElem.innerHTML = '';
    }


    setText(text) {
        if (!this.rootElem) {
            throw new Error('Digital Clock is not initialized');
        }

        this.text = '';
        const chars = Array.from(`${text}`).filter(ch => AVAILABLE_CHARS.test(ch));
        chars.forEach((ch, idx) => {
            const elem = _getDigitElem(idx, this.rootElem, this.charElems);
            const suffix = CHAR_SUFFIXES[ch] || ch;
            elem.className = `char ch-${suffix}`;
            this.text += ch;
        });

        // hiding extra chars
        for (let i = chars.length; i < this.charElems.length; i++) {
            const elem = _getDigitElem(i, this.rootElem, this.charElems);
            elem.className = `char hidden`;
        }
    }


}


function _getDigitElem(idx, rootElem, charElems) {
    if (idx >= charElems.length) {
        const charElem = document.createElement('div');
        charElem.className = 'char';

        for (let i = 0; i < 9; i++) {
            const li = document.createElement('li');
            charElem.appendChild(li);
        }

        rootElem.appendChild(charElem);
        charElems.push(charElem);
    }

    return this.charElems[idx];
}


module.exports = DigitalClock;
},{}],2:[function(require,module,exports){
const DigitalClock = require('./class');


if (typeof window !== 'undefined') {
    window.DigitalClock = DigitalClock;
}

if (typeof module !== 'undefined') {
    module.exports = DigitalClock;
}

},{"./class":1}]},{},[2]);

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJkaWdpdGFsLWNsb2NrLm1pbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc31yZXR1cm4gZX0pKCkoezE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuY29uc3QgQVZBSUxBQkxFX0NIQVJTID0gL1xcZHxbLTphcF0vO1xuY29uc3QgQ0hBUl9TVUZGSVhFUyA9IHtcbiAgICAnLSc6ICdtaW51cycsXG4gICAgJzonOiAnY29sb24nLFxufTtcblxuXG5jbGFzcyBEaWdpdGFsQ2xvY2sge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfEVsZW1lbnR9IGVsZW0gICAgICAgICBIVE1MIGVsZW1lbnQgKG9yIHNlbGVjdG9yKSB0byByZW5kZXIgdGhlIGNsb2NrXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZWxlbSkge1xuICAgICAgICB0aGlzLnJvb3RFbGVtID0gbnVsbDtcbiAgICAgICAgdGhpcy5jaGFyRWxlbXMgPSBbXTtcbiAgICAgICAgdGhpcy50ZXh0ID0gJyc7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBlbGVtID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhpcy5yb290RWxlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZWxlbSk7XG4gICAgICAgIH0gZWxzZSBpZiAoZWxlbSBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMucm9vdEVsZW0gPSBlbGVtO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLnJvb3RFbGVtKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBpbml0aWFsaXplIERpZ2l0YWwgQ2xvY2sgb24gJHtlbGVtfWApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucm9vdEVsZW0uaW5uZXJIVE1MID0gJyc7XG4gICAgfVxuXG5cbiAgICBzZXRUZXh0KHRleHQpIHtcbiAgICAgICAgaWYgKCF0aGlzLnJvb3RFbGVtKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RpZ2l0YWwgQ2xvY2sgaXMgbm90IGluaXRpYWxpemVkJyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnRleHQgPSAnJztcbiAgICAgICAgY29uc3QgY2hhcnMgPSBBcnJheS5mcm9tKGAke3RleHR9YCkuZmlsdGVyKGNoID0+IEFWQUlMQUJMRV9DSEFSUy50ZXN0KGNoKSk7XG4gICAgICAgIGNoYXJzLmZvckVhY2goKGNoLCBpZHgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW0gPSBfZ2V0RGlnaXRFbGVtKGlkeCwgdGhpcy5yb290RWxlbSwgdGhpcy5jaGFyRWxlbXMpO1xuICAgICAgICAgICAgY29uc3Qgc3VmZml4ID0gQ0hBUl9TVUZGSVhFU1tjaF0gfHwgY2g7XG4gICAgICAgICAgICBlbGVtLmNsYXNzTmFtZSA9IGBjaGFyIGNoLSR7c3VmZml4fWA7XG4gICAgICAgICAgICB0aGlzLnRleHQgKz0gY2g7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGhpZGluZyBleHRyYSBjaGFyc1xuICAgICAgICBmb3IgKGxldCBpID0gY2hhcnMubGVuZ3RoOyBpIDwgdGhpcy5jaGFyRWxlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW0gPSBfZ2V0RGlnaXRFbGVtKGksIHRoaXMucm9vdEVsZW0sIHRoaXMuY2hhckVsZW1zKTtcbiAgICAgICAgICAgIGVsZW0uY2xhc3NOYW1lID0gYGNoYXIgaGlkZGVuYDtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5cblxuZnVuY3Rpb24gX2dldERpZ2l0RWxlbShpZHgsIHJvb3RFbGVtLCBjaGFyRWxlbXMpIHtcbiAgICBpZiAoaWR4ID49IGNoYXJFbGVtcy5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgY2hhckVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgY2hhckVsZW0uY2xhc3NOYW1lID0gJ2NoYXInO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgOTsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgICAgICBjaGFyRWxlbS5hcHBlbmRDaGlsZChsaSk7XG4gICAgICAgIH1cblxuICAgICAgICByb290RWxlbS5hcHBlbmRDaGlsZChjaGFyRWxlbSk7XG4gICAgICAgIGNoYXJFbGVtcy5wdXNoKGNoYXJFbGVtKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5jaGFyRWxlbXNbaWR4XTtcbn1cblxuXG5tb2R1bGUuZXhwb3J0cyA9IERpZ2l0YWxDbG9jaztcbn0se31dLDI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuY29uc3QgRGlnaXRhbENsb2NrID0gcmVxdWlyZSgnLi9jbGFzcycpO1xuXG5cbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgIHdpbmRvdy5EaWdpdGFsQ2xvY2sgPSBEaWdpdGFsQ2xvY2s7XG59XG5cbmlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gRGlnaXRhbENsb2NrO1xufVxuXG59LHtcIi4vY2xhc3NcIjoxfV19LHt9LFsyXSk7XG4iXSwiZmlsZSI6ImRpZ2l0YWwtY2xvY2subWluLmpzIn0=
